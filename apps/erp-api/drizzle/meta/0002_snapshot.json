{
  "id": "1fbf536e-1a60-4f2d-93a2-6a1c41c17042",
  "prevId": "fb1a242e-4e2a-4b77-bee6-26d02cd7d026",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "erp.accounts": {
      "name": "accounts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "accounts_user_id_users_id_fk": {
          "name": "accounts_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "schemaTo": "erp",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.addresses": {
      "name": "addresses",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "line1": {
          "name": "line1",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "line2": {
          "name": "line2",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "lat": {
          "name": "lat",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "lon": {
          "name": "lon",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "addresses_customer_id_customers_id_fk": {
          "name": "addresses_customer_id_customers_id_fk",
          "tableFrom": "addresses",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.alerts": {
      "name": "alerts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reference_type": {
          "name": "reference_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "threshold": {
          "name": "threshold",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "current_value": {
          "name": "current_value",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_resolved": {
          "name": "is_resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_alert_type": {
          "name": "idx_alert_type",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alert_priority": {
          "name": "idx_alert_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alerts_tenant_id_tenants_id_fk": {
          "name": "alerts_tenant_id_tenants_id_fk",
          "tableFrom": "alerts",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_product_id_products_id_fk": {
          "name": "alerts_product_id_products_id_fk",
          "tableFrom": "alerts",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alerts_location_id_locations_id_fk": {
          "name": "alerts_location_id_locations_id_fk",
          "tableFrom": "alerts",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.cart_items": {
      "name": "cart_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "cart_id": {
          "name": "cart_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "variant_id": {
          "name": "variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cart_items_cart_id_carts_id_fk": {
          "name": "cart_items_cart_id_carts_id_fk",
          "tableFrom": "cart_items",
          "tableTo": "carts",
          "schemaTo": "erp",
          "columnsFrom": [
            "cart_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cart_items_product_id_products_id_fk": {
          "name": "cart_items_product_id_products_id_fk",
          "tableFrom": "cart_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cart_items_variant_id_product_variants_id_fk": {
          "name": "cart_items_variant_id_product_variants_id_fk",
          "tableFrom": "cart_items",
          "tableTo": "product_variants",
          "schemaTo": "erp",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.carts": {
      "name": "carts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false,
          "default": "'online'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "carts_customer_id_customers_id_fk": {
          "name": "carts_customer_id_customers_id_fk",
          "tableFrom": "carts",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.cost_layer_consumptions": {
      "name": "cost_layer_consumptions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "layer_id": {
          "name": "layer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ref_type": {
          "name": "ref_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "ref_id": {
          "name": "ref_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty_out_base": {
          "name": "qty_out_base",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cost_layer_cons": {
          "name": "idx_cost_layer_cons",
          "columns": [
            {
              "expression": "layer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cost_layer_consumptions_layer_id_cost_layers_id_fk": {
          "name": "cost_layer_consumptions_layer_id_cost_layers_id_fk",
          "tableFrom": "cost_layer_consumptions",
          "tableTo": "cost_layers",
          "schemaTo": "erp",
          "columnsFrom": [
            "layer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.cost_layers": {
      "name": "cost_layers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "qty_remaining_base": {
          "name": "qty_remaining_base",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cost_layer_key": {
          "name": "idx_cost_layer_key",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cost_layers_tenant_id_tenants_id_fk": {
          "name": "cost_layers_tenant_id_tenants_id_fk",
          "tableFrom": "cost_layers",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cost_layers_product_id_products_id_fk": {
          "name": "cost_layers_product_id_products_id_fk",
          "tableFrom": "cost_layers",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "cost_layers_location_id_locations_id_fk": {
          "name": "cost_layers_location_id_locations_id_fk",
          "tableFrom": "cost_layers",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "cost_layers_lot_id_lots_id_fk": {
          "name": "cost_layers_lot_id_lots_id_fk",
          "tableFrom": "cost_layers",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.customers": {
      "name": "customers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'external'"
        },
        "contact_person": {
          "name": "contact_person",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit": {
          "name": "credit_limit",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "customers_tenant_id_tenants_id_fk": {
          "name": "customers_tenant_id_tenants_id_fk",
          "tableFrom": "customers",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_customer_tenant_code": {
          "name": "uq_customer_tenant_code",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code"
          ]
        },
        "uq_customer_tenant_auth": {
          "name": "uq_customer_tenant_auth",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "auth_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.deliveries": {
      "name": "deliveries",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_code": {
          "name": "tracking_code",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "fee": {
          "name": "fee",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'requested'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deliveries_order_id_orders_id_fk": {
          "name": "deliveries_order_id_orders_id_fk",
          "tableFrom": "deliveries",
          "tableTo": "orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.doc_sequences": {
      "name": "doc_sequences",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_type": {
          "name": "doc_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prefix": {
          "name": "prefix",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "next_number": {
          "name": "next_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "doc_sequences_tenant_id_tenants_id_fk": {
          "name": "doc_sequences_tenant_id_tenants_id_fk",
          "tableFrom": "doc_sequences",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_docseq_tenant_type_period_loc": {
          "name": "uq_docseq_tenant_type_period_loc",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "doc_type",
            "period",
            "location_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.drawer_movements": {
      "name": "drawer_movements",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "shift_id": {
          "name": "shift_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_drawer_shift": {
          "name": "idx_drawer_shift",
          "columns": [
            {
              "expression": "shift_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "drawer_movements_shift_id_pos_shifts_id_fk": {
          "name": "drawer_movements_shift_id_pos_shifts_id_fk",
          "tableFrom": "drawer_movements",
          "tableTo": "pos_shifts",
          "schemaTo": "erp",
          "columnsFrom": [
            "shift_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.goods_receipt_items": {
      "name": "goods_receipt_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "goods_receipt_id": {
          "name": "goods_receipt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "purchase_order_item_id": {
          "name": "purchase_order_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quantity_ordered": {
          "name": "quantity_ordered",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "quantity_received": {
          "name": "quantity_received",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_gri_gr": {
          "name": "idx_gri_gr",
          "columns": [
            {
              "expression": "goods_receipt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "goods_receipt_items_goods_receipt_id_goods_receipts_id_fk": {
          "name": "goods_receipt_items_goods_receipt_id_goods_receipts_id_fk",
          "tableFrom": "goods_receipt_items",
          "tableTo": "goods_receipts",
          "schemaTo": "erp",
          "columnsFrom": [
            "goods_receipt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "goods_receipt_items_purchase_order_item_id_purchase_order_items_id_fk": {
          "name": "goods_receipt_items_purchase_order_item_id_purchase_order_items_id_fk",
          "tableFrom": "goods_receipt_items",
          "tableTo": "purchase_order_items",
          "schemaTo": "erp",
          "columnsFrom": [
            "purchase_order_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "goods_receipt_items_product_id_products_id_fk": {
          "name": "goods_receipt_items_product_id_products_id_fk",
          "tableFrom": "goods_receipt_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "goods_receipt_items_lot_id_lots_id_fk": {
          "name": "goods_receipt_items_lot_id_lots_id_fk",
          "tableFrom": "goods_receipt_items",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "goods_receipt_items_uom_id_uoms_id_fk": {
          "name": "goods_receipt_items_uom_id_uoms_id_fk",
          "tableFrom": "goods_receipt_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_gri_qty_pos": {
          "name": "ck_gri_qty_pos",
          "value": "\"erp\".\"goods_receipt_items\".\"quantity_received\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.goods_receipts": {
      "name": "goods_receipts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "purchase_order_id": {
          "name": "purchase_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "receipt_date": {
          "name": "receipt_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "received_by": {
          "name": "received_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_gr_po": {
          "name": "idx_gr_po",
          "columns": [
            {
              "expression": "purchase_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "goods_receipts_tenant_id_tenants_id_fk": {
          "name": "goods_receipts_tenant_id_tenants_id_fk",
          "tableFrom": "goods_receipts",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "goods_receipts_purchase_order_id_purchase_orders_id_fk": {
          "name": "goods_receipts_purchase_order_id_purchase_orders_id_fk",
          "tableFrom": "goods_receipts",
          "tableTo": "purchase_orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "purchase_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "goods_receipts_location_id_locations_id_fk": {
          "name": "goods_receipts_location_id_locations_id_fk",
          "tableFrom": "goods_receipts",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_gr_tenant_no": {
          "name": "uq_gr_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "receipt_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.locations": {
      "name": "locations",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_location_type": {
          "name": "idx_location_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "locations_tenant_id_tenants_id_fk": {
          "name": "locations_tenant_id_tenants_id_fk",
          "tableFrom": "locations",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_loc_tenant_code": {
          "name": "uq_loc_tenant_code",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.lots": {
      "name": "lots",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_no": {
          "name": "lot_no",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "manufacture_date": {
          "name": "manufacture_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "received_date": {
          "name": "received_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lot_prod_loc_exp": {
          "name": "idx_lot_prod_loc_exp",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "expiry_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lots_tenant_id_tenants_id_fk": {
          "name": "lots_tenant_id_tenants_id_fk",
          "tableFrom": "lots",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lots_product_id_products_id_fk": {
          "name": "lots_product_id_products_id_fk",
          "tableFrom": "lots",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "lots_location_id_locations_id_fk": {
          "name": "lots_location_id_locations_id_fk",
          "tableFrom": "lots",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_lot_tenant_prod_loc_no": {
          "name": "uq_lot_tenant_prod_loc_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "product_id",
            "location_id",
            "lot_no"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.loyalty_accounts": {
      "name": "loyalty_accounts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "points_balance": {
          "name": "points_balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "loyalty_accounts_customer_id_customers_id_fk": {
          "name": "loyalty_accounts_customer_id_customers_id_fk",
          "tableFrom": "loyalty_accounts",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.loyalty_ledger": {
      "name": "loyalty_ledger",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ref_type": {
          "name": "ref_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "ref_id": {
          "name": "ref_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "points_delta": {
          "name": "points_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "loyalty_ledger_account_id_loyalty_accounts_id_fk": {
          "name": "loyalty_ledger_account_id_loyalty_accounts_id_fk",
          "tableFrom": "loyalty_ledger",
          "tableTo": "loyalty_accounts",
          "schemaTo": "erp",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.menu_items": {
      "name": "menu_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "menu_id": {
          "name": "menu_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "variant_id": {
          "name": "variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_available": {
          "name": "is_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "menu_items_menu_id_menus_id_fk": {
          "name": "menu_items_menu_id_menus_id_fk",
          "tableFrom": "menu_items",
          "tableTo": "menus",
          "schemaTo": "erp",
          "columnsFrom": [
            "menu_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "menu_items_product_id_products_id_fk": {
          "name": "menu_items_product_id_products_id_fk",
          "tableFrom": "menu_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "menu_items_variant_id_product_variants_id_fk": {
          "name": "menu_items_variant_id_product_variants_id_fk",
          "tableFrom": "menu_items",
          "tableTo": "product_variants",
          "schemaTo": "erp",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "menu_items_location_id_locations_id_fk": {
          "name": "menu_items_location_id_locations_id_fk",
          "tableFrom": "menu_items",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.menus": {
      "name": "menus",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "menus_tenant_id_tenants_id_fk": {
          "name": "menus_tenant_id_tenants_id_fk",
          "tableFrom": "menus",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.modifier_groups": {
      "name": "modifier_groups",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "min_select": {
          "name": "min_select",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_select": {
          "name": "max_select",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_modgrp_name": {
          "name": "idx_modgrp_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "modifier_groups_tenant_id_tenants_id_fk": {
          "name": "modifier_groups_tenant_id_tenants_id_fk",
          "tableFrom": "modifier_groups",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.modifiers": {
      "name": "modifiers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "price_delta": {
          "name": "price_delta",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "idx_mod_group": {
          "name": "idx_mod_group",
          "columns": [
            {
              "expression": "group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "modifiers_group_id_modifier_groups_id_fk": {
          "name": "modifiers_group_id_modifier_groups_id_fk",
          "tableFrom": "modifiers",
          "tableTo": "modifier_groups",
          "schemaTo": "erp",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.order_item_modifiers": {
      "name": "order_item_modifiers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_item_id": {
          "name": "order_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "modifier_id": {
          "name": "modifier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "price_delta": {
          "name": "price_delta",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        }
      },
      "indexes": {
        "idx_item_mods": {
          "name": "idx_item_mods",
          "columns": [
            {
              "expression": "order_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "order_item_modifiers_order_item_id_order_items_id_fk": {
          "name": "order_item_modifiers_order_item_id_order_items_id_fk",
          "tableFrom": "order_item_modifiers",
          "tableTo": "order_items",
          "schemaTo": "erp",
          "columnsFrom": [
            "order_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "order_item_modifiers_modifier_id_modifiers_id_fk": {
          "name": "order_item_modifiers_modifier_id_modifiers_id_fk",
          "tableFrom": "order_item_modifiers",
          "tableTo": "modifiers",
          "schemaTo": "erp",
          "columnsFrom": [
            "modifier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.order_items": {
      "name": "order_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "variant_id": {
          "name": "variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "line_total": {
          "name": "line_total",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "prep_status": {
          "name": "prep_status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "station": {
          "name": "station",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_order_items": {
          "name": "idx_order_items",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_order_items_prep_status": {
          "name": "idx_order_items_prep_status",
          "columns": [
            {
              "expression": "prep_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "order_items_order_id_orders_id_fk": {
          "name": "order_items_order_id_orders_id_fk",
          "tableFrom": "order_items",
          "tableTo": "orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "order_items_product_id_products_id_fk": {
          "name": "order_items_product_id_products_id_fk",
          "tableFrom": "order_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "order_items_variant_id_product_variants_id_fk": {
          "name": "order_items_variant_id_product_variants_id_fk",
          "tableFrom": "order_items",
          "tableTo": "product_variants",
          "schemaTo": "erp",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "order_items_lot_id_lots_id_fk": {
          "name": "order_items_lot_id_lots_id_fk",
          "tableFrom": "order_items",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "order_items_uom_id_uoms_id_fk": {
          "name": "order_items_uom_id_uoms_id_fk",
          "tableFrom": "order_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_order_qty_pos": {
          "name": "ck_order_qty_pos",
          "value": "\"erp\".\"order_items\".\"quantity\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.orders": {
      "name": "orders",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pos'"
        },
        "type": {
          "name": "type",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'take_away'"
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "kitchen_status": {
          "name": "kitchen_status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "table_no": {
          "name": "table_no",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "svc_amount": {
          "name": "svc_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tips_amount": {
          "name": "tips_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "voucher_amount": {
          "name": "voucher_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_order_status": {
          "name": "idx_order_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_order_kitchen_status": {
          "name": "idx_order_kitchen_status",
          "columns": [
            {
              "expression": "kitchen_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "orders_tenant_id_tenants_id_fk": {
          "name": "orders_tenant_id_tenants_id_fk",
          "tableFrom": "orders",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "orders_location_id_locations_id_fk": {
          "name": "orders_location_id_locations_id_fk",
          "tableFrom": "orders",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "orders_customer_id_customers_id_fk": {
          "name": "orders_customer_id_customers_id_fk",
          "tableFrom": "orders",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "orders_address_id_addresses_id_fk": {
          "name": "orders_address_id_addresses_id_fk",
          "tableFrom": "orders",
          "tableTo": "addresses",
          "schemaTo": "erp",
          "columnsFrom": [
            "address_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_order_no": {
          "name": "uq_order_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "order_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.payments": {
      "name": "payments",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tender": {
          "name": "tender",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "change": {
          "name": "change",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_payment_order": {
          "name": "idx_payment_order",
          "columns": [
            {
              "expression": "order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payments_order_id_orders_id_fk": {
          "name": "payments_order_id_orders_id_fk",
          "tableFrom": "payments",
          "tableTo": "orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.pos_shifts": {
      "name": "pos_shifts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "opened_by": {
          "name": "opened_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_by": {
          "name": "closed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "float_amount": {
          "name": "float_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "expected_cash": {
          "name": "expected_cash",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "actual_cash": {
          "name": "actual_cash",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "variance": {
          "name": "variance",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        }
      },
      "indexes": {
        "idx_shift_loc": {
          "name": "idx_shift_loc",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "opened_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pos_shifts_tenant_id_tenants_id_fk": {
          "name": "pos_shifts_tenant_id_tenants_id_fk",
          "tableFrom": "pos_shifts",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pos_shifts_location_id_locations_id_fk": {
          "name": "pos_shifts_location_id_locations_id_fk",
          "tableFrom": "pos_shifts",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.price_book_items": {
      "name": "price_book_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "price_book_id": {
          "name": "price_book_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "variant_id": {
          "name": "variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "price_book_items_price_book_id_price_books_id_fk": {
          "name": "price_book_items_price_book_id_price_books_id_fk",
          "tableFrom": "price_book_items",
          "tableTo": "price_books",
          "schemaTo": "erp",
          "columnsFrom": [
            "price_book_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "price_book_items_product_id_products_id_fk": {
          "name": "price_book_items_product_id_products_id_fk",
          "tableFrom": "price_book_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "price_book_items_variant_id_product_variants_id_fk": {
          "name": "price_book_items_variant_id_product_variants_id_fk",
          "tableFrom": "price_book_items",
          "tableTo": "product_variants",
          "schemaTo": "erp",
          "columnsFrom": [
            "variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "price_book_items_location_id_locations_id_fk": {
          "name": "price_book_items_location_id_locations_id_fk",
          "tableFrom": "price_book_items",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.price_books": {
      "name": "price_books",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "price_books_tenant_id_tenants_id_fk": {
          "name": "price_books_tenant_id_tenants_id_fk",
          "tableFrom": "price_books",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.product_modifier_groups": {
      "name": "product_modifier_groups",
      "schema": "erp",
      "columns": {
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "product_modifier_groups_product_id_products_id_fk": {
          "name": "product_modifier_groups_product_id_products_id_fk",
          "tableFrom": "product_modifier_groups",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "product_modifier_groups_group_id_modifier_groups_id_fk": {
          "name": "product_modifier_groups_group_id_modifier_groups_id_fk",
          "tableFrom": "product_modifier_groups",
          "tableTo": "modifier_groups",
          "schemaTo": "erp",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_product_modifier_group": {
          "name": "pk_product_modifier_group",
          "columns": [
            "product_id",
            "group_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.product_packs": {
      "name": "product_packs",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pack_name": {
          "name": "pack_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "to_base_factor": {
          "name": "to_base_factor",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "product_packs_product_id_products_id_fk": {
          "name": "product_packs_product_id_products_id_fk",
          "tableFrom": "product_packs",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "product_packs_uom_id_uoms_id_fk": {
          "name": "product_packs_uom_id_uoms_id_fk",
          "tableFrom": "product_packs",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_pack_product_uom": {
          "name": "uq_pack_product_uom",
          "nullsNotDistinct": false,
          "columns": [
            "product_id",
            "uom_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.product_variants": {
      "name": "product_variants",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "extra_price": {
          "name": "extra_price",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "product_variants_product_id_products_id_fk": {
          "name": "product_variants_product_id_products_id_fk",
          "tableFrom": "product_variants",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_variant_prod_code": {
          "name": "uq_variant_prod_code",
          "nullsNotDistinct": false,
          "columns": [
            "product_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.production_orders": {
      "name": "production_orders",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "recipe_id": {
          "name": "recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "planned_qty_base": {
          "name": "planned_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "produced_qty_base": {
          "name": "produced_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supervised_by": {
          "name": "supervised_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_prod_status": {
          "name": "idx_prod_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "production_orders_tenant_id_tenants_id_fk": {
          "name": "production_orders_tenant_id_tenants_id_fk",
          "tableFrom": "production_orders",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "production_orders_recipe_id_recipes_id_fk": {
          "name": "production_orders_recipe_id_recipes_id_fk",
          "tableFrom": "production_orders",
          "tableTo": "recipes",
          "schemaTo": "erp",
          "columnsFrom": [
            "recipe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "production_orders_location_id_locations_id_fk": {
          "name": "production_orders_location_id_locations_id_fk",
          "tableFrom": "production_orders",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_prod_tenant_no": {
          "name": "uq_prod_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "order_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.products": {
      "name": "products",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sku": {
          "name": "sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "base_uom_id": {
          "name": "base_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tax_category": {
          "name": "tax_category",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "standard_cost": {
          "name": "standard_cost",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "default_price": {
          "name": "default_price",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_perishable": {
          "name": "is_perishable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "shelf_life_days": {
          "name": "shelf_life_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "barcode": {
          "name": "barcode",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_product_kind": {
          "name": "idx_product_kind",
          "columns": [
            {
              "expression": "kind",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_product_name": {
          "name": "idx_product_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "products_tenant_id_tenants_id_fk": {
          "name": "products_tenant_id_tenants_id_fk",
          "tableFrom": "products",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "products_base_uom_id_uoms_id_fk": {
          "name": "products_base_uom_id_uoms_id_fk",
          "tableFrom": "products",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "base_uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_product_tenant_sku": {
          "name": "uq_product_tenant_sku",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "sku"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.promotions": {
      "name": "promotions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "percent_off": {
          "name": "percent_off",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "promotions_tenant_id_tenants_id_fk": {
          "name": "promotions_tenant_id_tenants_id_fk",
          "tableFrom": "promotions",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "promotions_product_id_products_id_fk": {
          "name": "promotions_product_id_products_id_fk",
          "tableFrom": "promotions",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "promotions_location_id_locations_id_fk": {
          "name": "promotions_location_id_locations_id_fk",
          "tableFrom": "promotions",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.purchase_order_items": {
      "name": "purchase_order_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "purchase_order_id": {
          "name": "purchase_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "discount": {
          "name": "discount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "line_total": {
          "name": "line_total",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_poi_po": {
          "name": "idx_poi_po",
          "columns": [
            {
              "expression": "purchase_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_order_items_purchase_order_id_purchase_orders_id_fk": {
          "name": "purchase_order_items_purchase_order_id_purchase_orders_id_fk",
          "tableFrom": "purchase_order_items",
          "tableTo": "purchase_orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "purchase_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "purchase_order_items_product_id_products_id_fk": {
          "name": "purchase_order_items_product_id_products_id_fk",
          "tableFrom": "purchase_order_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "purchase_order_items_uom_id_uoms_id_fk": {
          "name": "purchase_order_items_uom_id_uoms_id_fk",
          "tableFrom": "purchase_order_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_poi_qty_pos": {
          "name": "ck_poi_qty_pos",
          "value": "\"erp\".\"purchase_order_items\".\"quantity\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.purchase_orders": {
      "name": "purchase_orders",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_date": {
          "name": "order_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expected_delivery_date": {
          "name": "expected_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_delivery_date": {
          "name": "actual_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "shipping_cost": {
          "name": "shipping_cost",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "discount": {
          "name": "discount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_po_status": {
          "name": "idx_po_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_orders_tenant_id_tenants_id_fk": {
          "name": "purchase_orders_tenant_id_tenants_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "purchase_orders_supplier_id_suppliers_id_fk": {
          "name": "purchase_orders_supplier_id_suppliers_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "suppliers",
          "schemaTo": "erp",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "purchase_orders_location_id_locations_id_fk": {
          "name": "purchase_orders_location_id_locations_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_po_tenant_no": {
          "name": "uq_po_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "order_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "ck_po_totals_nonneg": {
          "name": "ck_po_totals_nonneg",
          "value": "\"erp\".\"purchase_orders\".\"subtotal\" >= 0 AND \"erp\".\"purchase_orders\".\"tax_amount\" >= 0 AND \"erp\".\"purchase_orders\".\"total_amount\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.recipe_items": {
      "name": "recipe_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recipe_id": {
          "name": "recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty_base": {
          "name": "qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_recipe_items_recipe": {
          "name": "idx_recipe_items_recipe",
          "columns": [
            {
              "expression": "recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_items_recipe_id_recipes_id_fk": {
          "name": "recipe_items_recipe_id_recipes_id_fk",
          "tableFrom": "recipe_items",
          "tableTo": "recipes",
          "schemaTo": "erp",
          "columnsFrom": [
            "recipe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_items_product_id_products_id_fk": {
          "name": "recipe_items_product_id_products_id_fk",
          "tableFrom": "recipe_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_recipe_qty_pos": {
          "name": "ck_recipe_qty_pos",
          "value": "\"erp\".\"recipe_items\".\"qty_base\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.recipes": {
      "name": "recipes",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "finished_product_id": {
          "name": "finished_product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "yield_qty_base": {
          "name": "yield_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "recipes_tenant_id_tenants_id_fk": {
          "name": "recipes_tenant_id_tenants_id_fk",
          "tableFrom": "recipes",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipes_finished_product_id_products_id_fk": {
          "name": "recipes_finished_product_id_products_id_fk",
          "tableFrom": "recipes",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "finished_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_recipe_code_ver": {
          "name": "uq_recipe_code_ver",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code",
            "version"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.requisition_items": {
      "name": "requisition_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "requisition_id": {
          "name": "requisition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty_requested": {
          "name": "qty_requested",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "qty_issued": {
          "name": "qty_issued",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_req_items_req": {
          "name": "idx_req_items_req",
          "columns": [
            {
              "expression": "requisition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "requisition_items_requisition_id_requisitions_id_fk": {
          "name": "requisition_items_requisition_id_requisitions_id_fk",
          "tableFrom": "requisition_items",
          "tableTo": "requisitions",
          "schemaTo": "erp",
          "columnsFrom": [
            "requisition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "requisition_items_product_id_products_id_fk": {
          "name": "requisition_items_product_id_products_id_fk",
          "tableFrom": "requisition_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "requisition_items_uom_id_uoms_id_fk": {
          "name": "requisition_items_uom_id_uoms_id_fk",
          "tableFrom": "requisition_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_req_qtyreq_pos": {
          "name": "ck_req_qtyreq_pos",
          "value": "\"erp\".\"requisition_items\".\"qty_requested\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.requisitions": {
      "name": "requisitions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "req_number": {
          "name": "req_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "from_location_id": {
          "name": "from_location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_location_id": {
          "name": "to_location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "requested_date": {
          "name": "requested_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "required_date": {
          "name": "required_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "issued_date": {
          "name": "issued_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_date": {
          "name": "delivered_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_req_status": {
          "name": "idx_req_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "requisitions_tenant_id_tenants_id_fk": {
          "name": "requisitions_tenant_id_tenants_id_fk",
          "tableFrom": "requisitions",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "requisitions_from_location_id_locations_id_fk": {
          "name": "requisitions_from_location_id_locations_id_fk",
          "tableFrom": "requisitions",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "from_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "requisitions_to_location_id_locations_id_fk": {
          "name": "requisitions_to_location_id_locations_id_fk",
          "tableFrom": "requisitions",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "to_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_req_tenant_no": {
          "name": "uq_req_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "req_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.return_order_items": {
      "name": "return_order_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "return_order_id": {
          "name": "return_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_return_items": {
          "name": "idx_return_items",
          "columns": [
            {
              "expression": "return_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "return_order_items_return_order_id_return_orders_id_fk": {
          "name": "return_order_items_return_order_id_return_orders_id_fk",
          "tableFrom": "return_order_items",
          "tableTo": "return_orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "return_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "return_order_items_product_id_products_id_fk": {
          "name": "return_order_items_product_id_products_id_fk",
          "tableFrom": "return_order_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "return_order_items_lot_id_lots_id_fk": {
          "name": "return_order_items_lot_id_lots_id_fk",
          "tableFrom": "return_order_items",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "return_order_items_uom_id_uoms_id_fk": {
          "name": "return_order_items_uom_id_uoms_id_fk",
          "tableFrom": "return_order_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_return_qty_pos": {
          "name": "ck_return_qty_pos",
          "value": "\"erp\".\"return_order_items\".\"quantity\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.return_orders": {
      "name": "return_orders",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "return_number": {
          "name": "return_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "return_type": {
          "name": "return_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "reference_type": {
          "name": "reference_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "return_date": {
          "name": "return_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'requested'"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_return_status": {
          "name": "idx_return_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "return_orders_tenant_id_tenants_id_fk": {
          "name": "return_orders_tenant_id_tenants_id_fk",
          "tableFrom": "return_orders",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "return_orders_supplier_id_suppliers_id_fk": {
          "name": "return_orders_supplier_id_suppliers_id_fk",
          "tableFrom": "return_orders",
          "tableTo": "suppliers",
          "schemaTo": "erp",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "return_orders_customer_id_customers_id_fk": {
          "name": "return_orders_customer_id_customers_id_fk",
          "tableFrom": "return_orders",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "return_orders_location_id_locations_id_fk": {
          "name": "return_orders_location_id_locations_id_fk",
          "tableFrom": "return_orders",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_return_tenant_no": {
          "name": "uq_return_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "return_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.sessions": {
      "name": "sessions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "schemaTo": "erp",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_token_unique": {
          "name": "sessions_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.stock_adjustment_items": {
      "name": "stock_adjustment_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "adjustment_id": {
          "name": "adjustment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty_delta": {
          "name": "qty_delta",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_adj_items": {
          "name": "idx_adj_items",
          "columns": [
            {
              "expression": "adjustment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_adjustment_items_adjustment_id_stock_adjustments_id_fk": {
          "name": "stock_adjustment_items_adjustment_id_stock_adjustments_id_fk",
          "tableFrom": "stock_adjustment_items",
          "tableTo": "stock_adjustments",
          "schemaTo": "erp",
          "columnsFrom": [
            "adjustment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_adjustment_items_product_id_products_id_fk": {
          "name": "stock_adjustment_items_product_id_products_id_fk",
          "tableFrom": "stock_adjustment_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "stock_adjustment_items_lot_id_lots_id_fk": {
          "name": "stock_adjustment_items_lot_id_lots_id_fk",
          "tableFrom": "stock_adjustment_items",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "stock_adjustment_items_uom_id_uoms_id_fk": {
          "name": "stock_adjustment_items_uom_id_uoms_id_fk",
          "tableFrom": "stock_adjustment_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.stock_adjustments": {
      "name": "stock_adjustments",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "adj_number": {
          "name": "adj_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "stock_adjustments_tenant_id_tenants_id_fk": {
          "name": "stock_adjustments_tenant_id_tenants_id_fk",
          "tableFrom": "stock_adjustments",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_adjustments_location_id_locations_id_fk": {
          "name": "stock_adjustments_location_id_locations_id_fk",
          "tableFrom": "stock_adjustments",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_adj_tenant_no": {
          "name": "uq_adj_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "adj_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.stock_count_lines": {
      "name": "stock_count_lines",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "count_id": {
          "name": "count_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "system_qty_base": {
          "name": "system_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "counted_qty_base": {
          "name": "counted_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "variance_qty_base": {
          "name": "variance_qty_base",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_count_lines": {
          "name": "idx_count_lines",
          "columns": [
            {
              "expression": "count_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_count_lines_count_id_stock_counts_id_fk": {
          "name": "stock_count_lines_count_id_stock_counts_id_fk",
          "tableFrom": "stock_count_lines",
          "tableTo": "stock_counts",
          "schemaTo": "erp",
          "columnsFrom": [
            "count_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_count_lines_product_id_products_id_fk": {
          "name": "stock_count_lines_product_id_products_id_fk",
          "tableFrom": "stock_count_lines",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "stock_count_lines_lot_id_lots_id_fk": {
          "name": "stock_count_lines_lot_id_lots_id_fk",
          "tableFrom": "stock_count_lines",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.stock_counts": {
      "name": "stock_counts",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "count_number": {
          "name": "count_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "stock_counts_tenant_id_tenants_id_fk": {
          "name": "stock_counts_tenant_id_tenants_id_fk",
          "tableFrom": "stock_counts",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_counts_location_id_locations_id_fk": {
          "name": "stock_counts_location_id_locations_id_fk",
          "tableFrom": "stock_counts",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_count_tenant_no": {
          "name": "uq_count_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "count_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.stock_ledger": {
      "name": "stock_ledger",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "txn_ts": {
          "name": "txn_ts",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "type": {
          "name": "type",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "qty_delta_base": {
          "name": "qty_delta_base",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "ref_type": {
          "name": "ref_type",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "ref_id": {
          "name": "ref_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ledger_prod_loc_ts": {
          "name": "idx_ledger_prod_loc_ts",
          "columns": [
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "txn_ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ledger_ref": {
          "name": "idx_ledger_ref",
          "columns": [
            {
              "expression": "ref_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ref_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ledger_tenant": {
          "name": "idx_ledger_tenant",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ledger_lot": {
          "name": "idx_ledger_lot",
          "columns": [
            {
              "expression": "lot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_ledger_tenant_id_tenants_id_fk": {
          "name": "stock_ledger_tenant_id_tenants_id_fk",
          "tableFrom": "stock_ledger",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stock_ledger_product_id_products_id_fk": {
          "name": "stock_ledger_product_id_products_id_fk",
          "tableFrom": "stock_ledger",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "stock_ledger_location_id_locations_id_fk": {
          "name": "stock_ledger_location_id_locations_id_fk",
          "tableFrom": "stock_ledger",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "stock_ledger_lot_id_lots_id_fk": {
          "name": "stock_ledger_lot_id_lots_id_fk",
          "tableFrom": "stock_ledger",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.supplier_products": {
      "name": "supplier_products",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "supplier_sku": {
          "name": "supplier_sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "min_order_qty": {
          "name": "min_order_qty",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_time_days": {
          "name": "lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "supplier_products_supplier_id_suppliers_id_fk": {
          "name": "supplier_products_supplier_id_suppliers_id_fk",
          "tableFrom": "supplier_products",
          "tableTo": "suppliers",
          "schemaTo": "erp",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "supplier_products_product_id_products_id_fk": {
          "name": "supplier_products_product_id_products_id_fk",
          "tableFrom": "supplier_products",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "supplier_products_uom_id_uoms_id_fk": {
          "name": "supplier_products_uom_id_uoms_id_fk",
          "tableFrom": "supplier_products",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_supplier_product": {
          "name": "uq_supplier_product",
          "nullsNotDistinct": false,
          "columns": [
            "supplier_id",
            "product_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "ck_supplier_unit_price_pos": {
          "name": "ck_supplier_unit_price_pos",
          "value": "\"erp\".\"supplier_products\".\"unit_price\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.suppliers": {
      "name": "suppliers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "contact_person": {
          "name": "contact_person",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit": {
          "name": "credit_limit",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_supplier_name": {
          "name": "idx_supplier_name",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "suppliers_tenant_id_tenants_id_fk": {
          "name": "suppliers_tenant_id_tenants_id_fk",
          "tableFrom": "suppliers",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_supplier_tenant_code": {
          "name": "uq_supplier_tenant_code",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.tax_categories": {
      "name": "tax_categories",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tax_categories_tenant_id_tenants_id_fk": {
          "name": "tax_categories_tenant_id_tenants_id_fk",
          "tableFrom": "tax_categories",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_taxcat": {
          "name": "uq_taxcat",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.tax_rates": {
      "name": "tax_rates",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category_code": {
          "name": "category_code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_pct": {
          "name": "rate_pct",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "inclusive": {
          "name": "inclusive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tax_rates_tenant_id_tenants_id_fk": {
          "name": "tax_rates_tenant_id_tenants_id_fk",
          "tableFrom": "tax_rates",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tax_rates_location_id_locations_id_fk": {
          "name": "tax_rates_location_id_locations_id_fk",
          "tableFrom": "tax_rates",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.temperature_logs": {
      "name": "temperature_logs",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "area": {
          "name": "area",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "humidity": {
          "name": "humidity",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_alert": {
          "name": "is_alert",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "alert_reason": {
          "name": "alert_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_by": {
          "name": "recorded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_temp_loc_time": {
          "name": "idx_temp_loc_time",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_temp_alert": {
          "name": "idx_temp_alert",
          "columns": [
            {
              "expression": "is_alert",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "temperature_logs_tenant_id_tenants_id_fk": {
          "name": "temperature_logs_tenant_id_tenants_id_fk",
          "tableFrom": "temperature_logs",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "temperature_logs_location_id_locations_id_fk": {
          "name": "temperature_logs_location_id_locations_id_fk",
          "tableFrom": "temperature_logs",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.tenants": {
      "name": "tenants",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_tenant_org": {
          "name": "idx_tenant_org",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_tenant_org_slug": {
          "name": "uq_tenant_org_slug",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.transfer_items": {
      "name": "transfer_items",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "transfer_id": {
          "name": "transfer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lot_id": {
          "name": "lot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "qty_received": {
          "name": "qty_received",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_xfer_items": {
          "name": "idx_xfer_items",
          "columns": [
            {
              "expression": "transfer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transfer_items_transfer_id_transfers_id_fk": {
          "name": "transfer_items_transfer_id_transfers_id_fk",
          "tableFrom": "transfer_items",
          "tableTo": "transfers",
          "schemaTo": "erp",
          "columnsFrom": [
            "transfer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transfer_items_product_id_products_id_fk": {
          "name": "transfer_items_product_id_products_id_fk",
          "tableFrom": "transfer_items",
          "tableTo": "products",
          "schemaTo": "erp",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "transfer_items_lot_id_lots_id_fk": {
          "name": "transfer_items_lot_id_lots_id_fk",
          "tableFrom": "transfer_items",
          "tableTo": "lots",
          "schemaTo": "erp",
          "columnsFrom": [
            "lot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "transfer_items_uom_id_uoms_id_fk": {
          "name": "transfer_items_uom_id_uoms_id_fk",
          "tableFrom": "transfer_items",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "ck_xfer_qty_pos": {
          "name": "ck_xfer_qty_pos",
          "value": "\"erp\".\"transfer_items\".\"quantity\" > 0"
        }
      },
      "isRLSEnabled": false
    },
    "erp.transfers": {
      "name": "transfers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_number": {
          "name": "transfer_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "from_location_id": {
          "name": "from_location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_location_id": {
          "name": "to_location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_date": {
          "name": "transfer_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expected_delivery_date": {
          "name": "expected_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_delivery_date": {
          "name": "actual_delivery_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_by": {
          "name": "sent_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "received_by": {
          "name": "received_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_xfer_status": {
          "name": "idx_xfer_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transfers_tenant_id_tenants_id_fk": {
          "name": "transfers_tenant_id_tenants_id_fk",
          "tableFrom": "transfers",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transfers_from_location_id_locations_id_fk": {
          "name": "transfers_from_location_id_locations_id_fk",
          "tableFrom": "transfers",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "from_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "transfers_to_location_id_locations_id_fk": {
          "name": "transfers_to_location_id_locations_id_fk",
          "tableFrom": "transfers",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "to_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_xfer_tenant_no": {
          "name": "uq_xfer_tenant_no",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "transfer_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.uom_conversions": {
      "name": "uom_conversions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "from_uom_id": {
          "name": "from_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_uom_id": {
          "name": "to_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factor": {
          "name": "factor",
          "type": "numeric(16, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "uom_conversions_from_uom_id_uoms_id_fk": {
          "name": "uom_conversions_from_uom_id_uoms_id_fk",
          "tableFrom": "uom_conversions",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "from_uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "uom_conversions_to_uom_id_uoms_id_fk": {
          "name": "uom_conversions_to_uom_id_uoms_id_fk",
          "tableFrom": "uom_conversions",
          "tableTo": "uoms",
          "schemaTo": "erp",
          "columnsFrom": [
            "to_uom_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_conv_pair": {
          "name": "uq_conv_pair",
          "nullsNotDistinct": false,
          "columns": [
            "from_uom_id",
            "to_uom_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.uoms": {
      "name": "uoms",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_uom_code": {
          "name": "uq_uom_code",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.user_locations": {
      "name": "user_locations",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_locations_user": {
          "name": "idx_user_locations_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_locations_location": {
          "name": "idx_user_locations_location",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_locations_user_id_users_id_fk": {
          "name": "user_locations_user_id_users_id_fk",
          "tableFrom": "user_locations",
          "tableTo": "users",
          "schemaTo": "erp",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_locations_location_id_locations_id_fk": {
          "name": "user_locations_location_id_locations_id_fk",
          "tableFrom": "user_locations",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_locations_created_by_users_id_fk": {
          "name": "user_locations_created_by_users_id_fk",
          "tableFrom": "user_locations",
          "tableTo": "users",
          "schemaTo": "erp",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_user_location": {
          "name": "uq_user_location",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "location_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.users": {
      "name": "users",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auth_user_id": {
          "name": "auth_user_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "display_username": {
          "name": "display_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_auth": {
          "name": "idx_user_auth",
          "columns": [
            {
              "expression": "auth_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "users_location_id_locations_id_fk": {
          "name": "users_location_id_locations_id_fk",
          "tableFrom": "users",
          "tableTo": "locations",
          "schemaTo": "erp",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "uq_user_tenant_email": {
          "name": "uq_user_tenant_email",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.verifications": {
      "name": "verifications",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.voucher_redemptions": {
      "name": "voucher_redemptions",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "voucher_id": {
          "name": "voucher_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "amount_applied": {
          "name": "amount_applied",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "voucher_redemptions_voucher_id_vouchers_id_fk": {
          "name": "voucher_redemptions_voucher_id_vouchers_id_fk",
          "tableFrom": "voucher_redemptions",
          "tableTo": "vouchers",
          "schemaTo": "erp",
          "columnsFrom": [
            "voucher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "voucher_redemptions_order_id_orders_id_fk": {
          "name": "voucher_redemptions_order_id_orders_id_fk",
          "tableFrom": "voucher_redemptions",
          "tableTo": "orders",
          "schemaTo": "erp",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "voucher_redemptions_customer_id_customers_id_fk": {
          "name": "voucher_redemptions_customer_id_customers_id_fk",
          "tableFrom": "voucher_redemptions",
          "tableTo": "customers",
          "schemaTo": "erp",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "erp.vouchers": {
      "name": "vouchers",
      "schema": "erp",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "min_spend": {
          "name": "min_spend",
          "type": "numeric(16, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "usage_limit": {
          "name": "usage_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_per_customer": {
          "name": "usage_per_customer",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "vouchers_tenant_id_tenants_id_fk": {
          "name": "vouchers_tenant_id_tenants_id_fk",
          "tableFrom": "vouchers",
          "tableTo": "tenants",
          "schemaTo": "erp",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_voucher_code": {
          "name": "uq_voucher_code",
          "nullsNotDistinct": false,
          "columns": [
            "tenant_id",
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {
    "erp": "erp"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}